@import 'tailwindcss';
@import './typography.css';

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

:root,
html[data-theme='light'] {
  color-scheme: light; /* 让浏览器知道当前主题，自动调整表单元素、滚动条等的默认样式 */
  --background: #ffffff; /* 用于页面背景 */
  --foreground: #1f2328; /* 用于主要文本，如正文、标题 */
  --muted: #f6f8fa; /* 用于代码块、引用背景 */
  --muted-foreground: #656d76; /* 新增：用于日期、注释、次要信息 */
  --border: #d0d7de; /* 用于边框、分割线 */
  --accent: #0969da; /* 用于链接、按钮等强调元素 */
  --accent-foreground: #ffffff; /* 用于强调元素上的文本，如按钮文字 */
}

html[data-theme='dark'] {
  color-scheme: dark;
  --background: #0d1117;
  --foreground: #e6edf3;
  --muted: #161b22;
  --muted-foreground: #7d8590;
  --border: #30363d;
  --accent: #2f81f7;
  --accent-foreground: #ffffff;
}

@theme inline {
  --font-app: var(--font-google-sans-code);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
}

@layer base {
  * {
    @apply border-border outline-accent/75;
    scrollbar-width: thin;
    scrollbar-color: var(--color-border) transparent;
  }

  html {
    @apply overflow-y-scroll scroll-smooth;
  }

  body {
    /* 1. min-h-svh: 解决移动端浏览器地址栏高度问题
      2. antialiased: 让字体在 macOS 上更清晰
    */
    @apply flex min-h-svh flex-col bg-background font-app text-foreground antialiased selection:bg-accent/30 selection:text-foreground;
  }
  a,
  button {
    @apply outline-offset-1 outline-accent focus-visible:no-underline focus-visible:outline-2 focus-visible:outline-dashed;
  }
  button:not(:disabled),
  [role='button']:not(:disabled) {
    cursor: pointer;
  }
}

@utility max-w-app {
  @apply max-w-4xl xl:max-w-5xl;
}

@utility app-layout {
  @apply mx-auto w-full max-w-app px-4;
}

.active-nav {
  @apply underline decoration-wavy decoration-2 underline-offset-8;
}

:target {
  scroll-margin-block: 1rem;
}
